# [0006. 分支重命名](https://github.com/Tdahuyou/git/tree/main/0006.%20%E5%88%86%E6%94%AF%E9%87%8D%E5%91%BD%E5%90%8D)

<!-- region:toc -->
- [1. 💻 分支重命名](#1--分支重命名)
  - [1.1. 重命名本地分支](#11-重命名本地分支)
  - [1.2. 重命名远程分支](#12-重命名远程分支)
  - [1.3. 注意事项](#13-注意事项)
<!-- endregion:toc -->

## 1. 💻 分支重命名

重命名 Git 分支分为两种情况：重命名本地分支和重命名远程分支。以下是详细步骤：

### 1.1. 重命名本地分支

如果你只是想要重命名本地分支（你当前就在此分支上），可以使用以下命令：

```bash
git branch -m 新分支名
```

如果当前不在要重命名的分支上，你需要指定旧分支名：

```bash
git branch -m 旧分支名 新分支名
```

### 1.2. 重命名远程分支

当你的分支已经被推送到远程仓库时，重命名过程会稍微复杂一点。你需要执行以下步骤：

1. **重命名本地分支**：首先按照上述方法重命名本地分支。
   
  ```bash
  git branch -m 旧分支名 新分支名
  # 需要注意分支名不要加上前缀 remotes/xxx/，比如：
  # remotes/origin/old_branch 这么写是不对的
  # old_branch 这么写是对的
  ```

2. **删除旧的远程分支**：使用 `git push` 命令加上 `--delete` 参数来删除远程仓库上的旧分支。

  ```bash
  git push origin --delete 旧分支名
  ```

3. **推送重命名后的本地分支到远程仓库**：使用 `git push` 命令将本地重命名后的分支推送到远程仓库，并设置跟踪关系。

  ```bash
  git push origin 新分支名 --set-upstream
  ```

### 1.3. 注意事项

- 在执行这些操作之前，建议先备份你的工作或确保你已经提交了所有重要的更改。
- 如果其他开发人员也在使用同一个远程分支，那么重命名分支可能会对他们造成影响。在这种情况下，最好提前通知他们。
- 使用 `--delete` 选项时要特别小心，因为它会永久删除远程分支。确保你不再需要旧的分支名称后再执行此操作。
- 在输入新分支的时候，不能输入空格等非法字符。

通过以上步骤，你可以顺利地重命名 Git 本地和远程分支。